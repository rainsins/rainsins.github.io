<!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3" >
      <p>
        {%- capture _platform -%}
          <a href="https://jekyllrb.com" target="_blank">Jekyll</a>
        {%- endcapture -%}

        {%- capture _theme -%}
          <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank">Chirpy</a>
        {%- endcapture -%}

        {{ site.data.locales[include.lang].meta | replace: ':PLATFORM', _platform | replace: ':THEME', _theme }}
      </p>

      <p>
        <a href="https://icp.gov.moe/?keyword=20240093" target="_blank">萌ICP备20240093号</a>&nbsp;
        {{- '©' }}
        {{ 'now' | date: '%Y' }}
        <a href="{{ site.social.links[0] }}">RAINSIN</a>.
        {% if site.data.locales[include.lang].copyright.brief %}
          <span
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="{{ site.data.locales[include.lang].copyright.verbose }}"
          >
            {{- site.data.locales[include.lang].copyright.brief -}}
          </span>
        {% endif %}
      </p>
    </div>
    <style>
      .font-links-a:hover{
        border-bottom: none;
      }
    </style>

    <div class="justify-content-center align-items-center text-muted mx-md-3" style="display: flex;  margin: 0 0 10px 0;">
      <a class="font-links-a" href="https://www.foreverblog.cn/go.html" target="_blank"> <img src="https://img.foreverblog.cn/wormhole_3_tp.gif" alt="" style="width:auto;height:2rem;" title="穿梭虫洞-随机访问十年之约友链博客"></a>
      <!-- &nbsp;&nbsp;
      <a class="font-links-a" href="https://www.travellings.cn/go.html" target="_blank" rel="noopener" title="开往-友链接力">
        <img src="https://api.rainsin.cn/logo.gif" alt="开往-友链接力" height="2rem" style="width:auto;height:1.5rem;">
      </a> -->
    </div>
    <div class="justify-content-center align-items-center text-muted mx-md-3" style="display: flex;  padding: 0 0 20px 0;flex-wrap: wrap;">
      友情链接：&nbsp;&nbsp;
      <a class="font-links-a" href="https://sweetjing.cc/" target="_blank" >半截の诗</a>，
      <a class="font-links-a" href="https://www.foreverblog.cn/" target="_blank" title="一个人的寂寞，一群人的狂欢。">十年之约</a>，
      <a class="font-links-a" href="https://blogwe.com" target="_blank">[🏠BlogWe]</a>，
      <a class="font-links-a" href="https://storeweb.cn/" target="_blank" title="个站商店">个站商店</a>
      <!-- <a class="font-links-a" href="https://www.travellings.cn/" target="_blank" title="开往-友链接力">开往官网</a> -->
      。
    </div>
  </div>
</footer>

{% if page.guwen %}
<script src="/assets/js/heti.js"></script>
{% endif %}

{% if page.guwen-addon %}
<script src="https://{{site.js_cdn}}/npm/heti@0.9.4/umd/heti-addon.min.js"></script>

<script>
  const heti_addon = new Heti('.heti');
  heti_addon.autoSpacing();
</script>
{% endif %}

{% if page.comments %}
<script>
  window.load_event= {
        ...window.load_event,
        comments: () => {
          if(sessionStorage.getItem("isOut") == "false"){
            Waline.init({
              el: '#tcomment',
              serverURL: 'https://comment.cpolar.cn/',
              emoji: [
                "//pan.rainsin.cn:2000/d/blog/em/小黑子",
                "//pan.rainsin.cn:2000/d/blog/em/Sticker-100",
                "//pan.rainsin.cn:2000/d/blog/em/bilibili",
                "//pan.rainsin.cn:2000/d/blog/em/Tieba",
                "//pan.rainsin.cn:2000/d/blog/em/alus",
                "//pan.rainsin.cn:2000/d/blog/em/商业头盔",
                "//pan.rainsin.cn:2000/d/blog/em/小人",
                "//pan.rainsin.cn:2000/d/blog/em/小坏坏",
                "//pan.rainsin.cn:2000/d/blog/em/抽象",
                "//pan.rainsin.cn:2000/d/blog/em/搜索引擎",
                "//pan.rainsin.cn:2000/d/blog/em/机场",
                "//pan.rainsin.cn:2000/d/blog/em/猥琐萌",
                "//pan.rainsin.cn:2000/d/blog/em/猫狗",
                "//pan.rainsin.cn:2000/d/blog/em/白白",
                "//pan.rainsin.cn:2000/d/blog/em/突然",
                "//pan.rainsin.cn:2000/d/blog/em/胡桃",
                "//pan.rainsin.cn:2000/d/blog/em/被子",
                "//pan.rainsin.cn:2000/d/blog/em/酷安",
                "//pan.rainsin.cn:2000/d/blog/em/tw",
                "//pan.rainsin.cn:2000/d/blog/em/qq",
                "//pan.rainsin.cn:2000/d/blog/em/weibo"
              ],
              reaction: [
                'https://api.rainsin.cn/2024/07/1720857486493d53f4f18aab45f5c46a716c161670ccd.png',
                'https://api.rainsin.cn/2024/07/17208574864939a772c7206fdda6fd6fafcb8fb63e166.png',
                'https://api.rainsin.cn/2024/07/17208574864933b982af04875523bd86ca76ef8a879df.png',
                'https://api.rainsin.cn/2024/07/17208574864936efb36a4f6d7b16fc3b028d887ef25b8.png',
                'https://api.rainsin.cn/2024/07/1720857486492f900aa3fab03c830f35d6171b313cf1b.png',
                'https://api.rainsin.cn/2024/07/172085748649226e4f8c76fcd7a3f8f705b111319bce9.png',
                'https://api.rainsin.cn/2024/07/17208574864938a3853cfb31b45490464ac06a0dd3533.png',
                'https://api.rainsin.cn/2024/07/172085748649340dcb5b6edb8f423c2350bf460d2eff3.png',
              ],
              pageview: true,
              locale:{
                placeholder: '唠唠嗑（登录和上面信息都不是必需的，评论审核后可见，添加邮箱可在被回复时邮件提醒）',
                reactionTitle: '你是故意找茬是不是啊？',
                reaction0: '正确的',
                reaction1: '错误的',
                reaction2: '小丑的',
                reaction3: '满昏的',
                reaction4: '不错的',
                reaction5: '菜鸡的',
                reaction6: '超逊的',
                reaction7: '发烧的',
                admin: '站长',
                level0: '素人',
                level1: '企划',
                level2: '企划专属',
                level3: '专属',
                level4: '双专属',
                level5: '三社共有',
                nick: '名称',
                sofa: '来一起击剑🤺吧'
              },
              dark: 'html[data-mode="dark"]',
              imageUploader: false,
              search: false
          });
          }else{
            Waline.init({
              el: '#tcomment',
              serverURL: 'https://comment.cpolar.cn/',
              emoji: [
                "//mypan.hk.cpolar.io/d/blog/em/小黑子",
                "//mypan.hk.cpolar.io/d/blog/em/Sticker-100",
                "//mypan.hk.cpolar.io/d/blog/em/bilibili",
                "//mypan.hk.cpolar.io/d/blog/em/Tieba",
                "//mypan.hk.cpolar.io/d/blog/em/alus",
                "//mypan.hk.cpolar.io/d/blog/em/商业头盔",
                "//mypan.hk.cpolar.io/d/blog/em/小人",
                "//mypan.hk.cpolar.io/d/blog/em/小坏坏",
                "//mypan.hk.cpolar.io/d/blog/em/抽象",
                "//mypan.hk.cpolar.io/d/blog/em/搜索引擎",
                "//mypan.hk.cpolar.io/d/blog/em/机场",
                "//mypan.hk.cpolar.io/d/blog/em/猥琐萌",
                "//mypan.hk.cpolar.io/d/blog/em/猫狗",
                "//mypan.hk.cpolar.io/d/blog/em/白白",
                "//mypan.hk.cpolar.io/d/blog/em/突然",
                "//mypan.hk.cpolar.io/d/blog/em/胡桃",
                "//mypan.hk.cpolar.io/d/blog/em/被子",
                "//mypan.hk.cpolar.io/d/blog/em/酷安",
                "//mypan.hk.cpolar.io/d/blog/em/tw",
                "//mypan.hk.cpolar.io/d/blog/em/qq",
                "//mypan.hk.cpolar.io/d/blog/em/weibo"
              ],
              reaction: [
                'https://api.rainsin.cn/2024/07/1720857486493d53f4f18aab45f5c46a716c161670ccd.png',
                'https://api.rainsin.cn/2024/07/17208574864939a772c7206fdda6fd6fafcb8fb63e166.png',
                'https://api.rainsin.cn/2024/07/17208574864933b982af04875523bd86ca76ef8a879df.png',
                'https://api.rainsin.cn/2024/07/17208574864936efb36a4f6d7b16fc3b028d887ef25b8.png',
                'https://api.rainsin.cn/2024/07/1720857486492f900aa3fab03c830f35d6171b313cf1b.png',
                'https://api.rainsin.cn/2024/07/172085748649226e4f8c76fcd7a3f8f705b111319bce9.png',
                'https://api.rainsin.cn/2024/07/17208574864938a3853cfb31b45490464ac06a0dd3533.png',
                'https://api.rainsin.cn/2024/07/172085748649340dcb5b6edb8f423c2350bf460d2eff3.png',
              ],
              pageview: true,
              locale:{
                placeholder: '唠唠嗑（登录和上面信息都不是必需的，评论审核后可见，添加邮箱可在被回复时邮件提醒）',
                reactionTitle: '你是故意找茬是不是啊？',
                reaction0: '正确的',
                reaction1: '错误的',
                reaction2: '小丑的',
                reaction3: '满昏的',
                reaction4: '不错的',
                reaction5: '菜鸡的',
                reaction6: '超逊的',
                reaction7: '发烧的',
                admin: '站长',
                level0: '素人',
                level1: '企划',
                level2: '企划专属',
                level3: '专属',
                level4: '双专属',
                level5: '三社共有',
                nick: '名称',
                sofa: '来一起击剑🤺吧'
              },
              dark: 'html[data-mode="dark"]',
              imageUploader: false,
              search: false
          });
          }
          
        }
      }
  </script>

{% endif %}

<script defer>
  function testIPv6Support() {
    return new Promise(function(resolve, reject) {
      let ipv6Url = 'https://api6.ipify.org?format=json';

      let xhr = new XMLHttpRequest();
      xhr.open('GET', ipv6Url, true);
      xhr.onload = function() {
        if (xhr.status === 200) {
          try {
            let response = JSON.parse(xhr.responseText);
            let ipAddress = response.ip;
            if (isIPv6Address(ipAddress)) {
              resolve(true);
            } else {
              resolve(false);
            }
          } catch (error) {
            resolve(false);
          }
        } else {
          resolve(false);
        }
      };
      xhr.onerror = function() {
        resolve(false);
      };
      xhr.send();
    });
  }

  function isIPv6Address(ipAddress) {
    let regex = /^([0-9a-fA-F]{0,4}:){1,7}[0-9a-fA-F]{0,4}$/;
    return regex.test(ipAddress);
  }
  testIPv6Support().then(function(supported) {
    if (supported) {
      ipv6Flag = true;
    } else {
      Swal.fire({
        title: "当前网络好像不支持国内IPv6?",
        text: "可能是你使用了梯子，又或者你在境外访问，亦或者脚本判断有问题。如果网络不支持国内IPv6，这个网站中的一部分内容（字体、图片等）可能无法获取。",
        icon: "question"
      });
    }
  });
</script>
