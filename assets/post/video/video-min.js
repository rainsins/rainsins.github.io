window.isLoad=!1;let art=null;function playMpd(t,s,e){if(dashjs.supportsMediaSource()){e.dash&&e.dash.destroy();const o=dashjs.MediaPlayer().create();o.initialize(t,s,e.option.autoplay),e.dash=o,e.on("destroy",(()=>o.destroy()))}else e.notice.show="Unsupported playback format: mpd"}function playM3u8(t,s,e){if(Hls.isSupported()){e.hls&&e.hls.destroy();const o=new Hls;o.loadSource(s),o.attachMedia(t),e.hls=o,e.on("destroy",(()=>o.destroy()))}else t.canPlayType("application/vnd.apple.mpegurl")?t.src=s:e.notice.show="Unsupported playback format: m3u8"}async function send_message(){const t=$("#email-field").val(),s=CryptoJS.enc.Utf8.parse("qfqf0kqcajzoa04h"),e=CryptoJS.enc.Utf8.parse("4517229305703582"),o=CryptoJS.AES.encrypt(t,s,{iv:e,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}).toString(),l=new Map;function i(t){return new Promise(((s,e)=>{if(l.has(t))return void s(l.get(t));const o=new Image;o.onload=()=>{l.set(t,t),s(t)},o.onerror=()=>{l.set(t,"https://myapi.rainsin.cn/pics-dmm/default"),e(new Error("Failed to load poster"))},o.src=t}))}function a(t,s){try{t.poster=s;const e=t.template?.$poster;e&&(e.style.backgroundImage=`url("${s}")`,e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat"),"function"==typeof t.emit&&t.emit("poster",s)}catch(t){}}isLoad||fetch(`https://myapi.rainsin.cn/blog/envideo/${o}`).then((t=>(isLoad=!0,404==t.status?(Qmsg.error("哎呀，密码不对！🤡"),isLoad=!1,!1):t.json()))).then((async t=>{if(t&&Array.isArray(t)){art&&art.destroy();const s=t.map((t=>({...t,poster:`https://myapi.rainsin.cn/pics-dmm/${encodeURIComponent(t.title)}`})));if(s.length>0)try{await i(s[0].poster)}catch(t){}art=new Artplayer({container:"#video-box",url:s[0]?.url||"https://seacloud.cpolar.cn/dash-av/Start-111-Uc/main.mpd",type:"mpd",theme:"#2c9678",title:s[0]?.title||"Start-111-Uc",poster:s[0]?.poster||"",flip:!0,playbackRate:!0,screenshot:!0,hotkey:!0,pip:!0,mutex:!0,fullscreen:!0,fullscreenWeb:!0,miniProgressBar:!0,playsInline:!0,setting:!0,customType:{mpd:playMpd},autoOrientation:!0,plugins:[artplayerPlaylist({rebuildPlayer:!1,onchanged:async t=>{const e=s.find((s=>s.url===t.url));if(e&&e.poster)try{const s=await i(e.poster);a(t,s)}catch(s){a(t,"https://myapi.rainsin.cn/pics-dmm/default")}const o=s.findIndex((s=>s.url===t.url));if(o>=0&&o<s.length-1){const t=s[o+1];t&&t.poster&&i(t.poster).catch((()=>{}))}},autoNext:!0,showText:!1,playlist:s})]},(function(t){this.pause(),s[0]&&s[0].poster&&setTimeout((()=>{a(t,s[0].poster)}),100)})),$("#middle").hide()}isLoad=!1})).catch((t=>{Qmsg.error("加载视频数据失败！"),isLoad=!1}))}window.load_event={...window.load_event,artsss:()=>{art=new Artplayer({container:"#video-box",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5222486782687309806_hlsb.m3u8",type:"m3u8",theme:"#2c9678",title:"猴王初问世",poster:"https://source.rainsin.cn/img/post/video/%E8%A5%BF%E6%B8%B8%E8%AE%B0.jpg",flip:!0,playbackRate:!0,screenshot:!0,hotkey:!0,pip:!0,mutex:!0,fullscreen:!0,fullscreenWeb:!0,miniProgressBar:!0,playsInline:!0,setting:!0,autoOrientation:!0,customType:{m3u8:playM3u8},plugins:[artplayerPlaylist({rebuildPlayer:!1,onchanged:t=>{},autoNext:!0,showText:!1,playlist:[{title:"猴王初问世",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5222486782687309806_hlsb.m3u8"},{title:"官封弼马温",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5221923836211844606_hlsb.m3u8"},{title:"大圣闹天宫",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5189835687545858667_hlsb.m3u8"},{title:"困囚五行山",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5222205307782734748_hlsb.m3u8"},{title:"猴王保唐僧",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5197998463397799646_hlsb.m3u8"},{title:"祸起观音院",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5248382480897511687_hlsb.m3u8"},{title:"计收猪八戒",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5255982306920155520_hlsb.m3u8"},{title:"坎途逢三难",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5245004783362852874_hlsb.m3u8"},{title:"偷吃人参果",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5188991261818113744_hlsb.m3u8"},{title:"三打白骨精",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5245286258564595605_hlsb.m3u8"},{title:"智激美猴王",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5242190033819283686_hlsb.m3u8"},{title:"夺宝莲花洞",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5195465185500328899_hlsb.m3u8"},{title:"除妖乌鸡国",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5233182832465375578_hlsb.m3u8"},{title:"大战红孩儿",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5257952633664504505_hlsb.m3u8"},{title:"斗法降三怪",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5239093806671579134_hlsb.m3u8"},{title:"趣经女儿国",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5194339285053330625_hlsb.m3u8"},{title:"三调芭蕉扇",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5212353685308148894_hlsb.m3u8"},{title:"扫塔辨奇冤",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5196028138193985933_hlsb.m3u8"},{title:"误入小雷音",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5201657637211300344_hlsb.m3u8"},{title:"孙猴巧行医",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5192368961005814924_hlsb.m3u8"},{title:"错坠盘丝洞",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5234590208336898334_hlsb.m3u8"},{title:"四探无底洞",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5231212506629016061_hlsb.m3u8"},{title:"传艺玉华洲",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5201094684845468508_hlsb.m3u8"},{title:"天竺收玉兔",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5245567730520243844_hlsb.m3u8"},{title:"波生极乐天",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5215168436118306105_hlsb.m3u8"}]})]},(function(t){this.pause()}))}};