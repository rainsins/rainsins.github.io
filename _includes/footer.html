<!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3" >
      <p>
        {%- capture _platform -%}
          <a href="https://jekyllrb.com" target="_blank">Jekyll</a>
        {%- endcapture -%}

        {%- capture _theme -%}
          <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank">Chirpy</a>
        {%- endcapture -%}

        {{ site.data.locales[include.lang].meta | replace: ':PLATFORM', _platform | replace: ':THEME', _theme }}
      </p>

      <p>
        <a href="https://icp.gov.moe/?keyword=20240093" target="_blank">萌ICP备20240093号</a>&nbsp;
        {{- '©' }}
        {{ 'now' | date: '%Y' }}
        <a href="{{ site.social.links[0] }}">RAINSIN</a>.
        {% if site.data.locales[include.lang].copyright.brief %}
          <span
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="{{ site.data.locales[include.lang].copyright.verbose }}"
          >
            {{- site.data.locales[include.lang].copyright.brief -}}
          </span>
        {% endif %}
      </p>
    </div>
    <style>
      .font-links-a:hover{
        border-bottom: none;
      }
    </style>

    <div class="justify-content-center align-items-center text-muted mx-md-3" style="display: flex;  margin: 0 0 10px 0;">
      <a class="font-links-a" href="https://www.foreverblog.cn/go.html" target="_blank"> <img src="https://img.foreverblog.cn/wormhole_3_tp.gif" alt="" style="width:auto;height:2rem;" title="穿梭虫洞-随机访问十年之约友链博客"></a>
      <!-- &nbsp;&nbsp;
      <a class="font-links-a" href="https://www.travellings.cn/go.html" target="_blank" rel="noopener" title="开往-友链接力">
        <img src="https://api.rainsin.cn/logo.gif" alt="开往-友链接力" height="2rem" style="width:auto;height:1.5rem;">
      </a> -->
    </div>
    <div class="justify-content-center align-items-center text-muted mx-md-3" style="display: flex;  padding: 0 0 20px 0;flex-wrap: wrap;">
      友情链接：&nbsp;&nbsp;
      <a class="font-links-a" href="https://sweetjing.cc/" target="_blank" >半截の诗</a>，
      <a class="font-links-a" href="https://www.foreverblog.cn/" target="_blank" title="一个人的寂寞，一群人的狂欢。">十年之约</a>，
      <a class="font-links-a" href="https://blogwe.com" target="_blank">[🏠BlogWe]</a>，
      <a class="font-links-a" href="https://storeweb.cn/" target="_blank" title="个站商店">个站商店</a>
      <!-- <a class="font-links-a" href="https://www.travellings.cn/" target="_blank" title="开往-友链接力">开往官网</a> -->
      。
    </div>
  </div>
</footer>
{% if page.guwen %}
<script src="/assets/js/heti.js"></script>
{% endif %}

{% if page.guwen-addon %}
<script src="https://{{site.js_cdn}}/npm/heti@0.9.4/umd/heti-addon.min.js"></script>

<script>
  const heti_addon = new Heti('.heti');
  heti_addon.autoSpacing();
</script>
{% endif %}

<script defer>
  function testIPv6Support() {
    return new Promise(function(resolve, reject) {
      let ipv6Url = 'https://api6.ipify.org?format=json';

      let xhr = new XMLHttpRequest();
      xhr.open('GET', ipv6Url, true);
      xhr.onload = function() {
        if (xhr.status === 200) {
          try {
            let response = JSON.parse(xhr.responseText);
            let ipAddress = response.ip;
            if (isIPv6Address(ipAddress)) {
              resolve(true);
            } else {
              resolve(false);
            }
          } catch (error) {
            resolve(false);
          }
        } else {
          resolve(false);
        }
      };
      xhr.onerror = function() {
        resolve(false);
      };
      xhr.send();
    });
  }

  function isIPv6Address(ipAddress) {
    let regex = /^([0-9a-fA-F]{0,4}:){1,7}[0-9a-fA-F]{0,4}$/;
    return regex.test(ipAddress);
  }
  testIPv6Support().then(function(supported) {
    if (supported) {
      ipv6Flag = true;
    } else {
      Swal.fire({
        title: "当前网络好像不支持国内IPv6?",
        text: "可能是你使用了梯子，又或者你在境外访问，亦或者脚本判断有问题。如果网络不支持国内IPv6，这个网站中的一部分内容（字体、图片等）可能无法获取。",
        icon: "question"
      });
    }
  });
</script>
