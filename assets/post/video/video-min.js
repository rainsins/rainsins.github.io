window.isLoad=!1;let art=null;function playMpd(s,t,o){if(dashjs.supportsMediaSource()){o.dash&&o.dash.destroy();const e=dashjs.MediaPlayer().create();e.initialize(s,t,o.option.autoplay),o.dash=e,o.on("destroy",(()=>e.destroy()))}else o.notice.show="Unsupported playback format: mpd"}function playM3u8(s,t,o){if(Hls.isSupported()){o.hls&&o.hls.destroy();const e=new Hls;e.loadSource(t),e.attachMedia(s),o.hls=e,o.on("destroy",(()=>e.destroy()))}else s.canPlayType("application/vnd.apple.mpegurl")?s.src=t:o.notice.show="Unsupported playback format: m3u8"}async function send_message(){const s=$("#email-field").val(),t=CryptoJS.enc.Utf8.parse("qfqf0kqcajzoa04h"),o=CryptoJS.enc.Utf8.parse("4517229305703582"),e=CryptoJS.AES.encrypt(s,t,{iv:o,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}).toString();function i(s){const t=$(".video-info");if(!s)return void t.removeClass("visible");const o=s.info.title||"标题加载失败",e=s.info.plot.replace("<![CDATA[","").replace("]]>","")||"暂无简介",i=`\n        <div class="video-info-grid">\n            <div class="info-poster">\n                <img src="${s.poster||"https://myapi.rainsin.cn/pics-dmm/default"}" alt="${o} Poster">\n            </div>\n            <div class="info-details">\n                <h2>${o}</h2>\n                <div class="info-meta">\n                    <span><strong>导演:</strong> ${s.info.director||"未知"}</span>\n                    <span><strong>片商:</strong> ${s.info.studio||"未知"}</span>\n                    <span><strong>年份:</strong> ${s.info.year||"未知"}</span>\n                    <span><strong>时长:</strong> ${s.info.runtime||"未知"} 分钟</span>\n                </div>\n                 <div class="info-meta">\n                    <span><strong>演员:</strong> ${s.info.actor.map((s=>s.replace(/<name>|<\/name>|<type>.*<\/type>/gs,"").trim())).join(", ")}</span>\n                </div>\n                <p class="info-plot">${e}</p>\n                <div class="tags">\n                    ${s.info.genre.map((s=>`<span class="tag">${s}</span>`)).join("")}\n                </div>\n            </div>\n        </div>\n    `;t.html(i),t.hasClass("visible")||setTimeout((()=>t.addClass("visible")),50)}isLoad||fetch(`https://myapi.rainsin.cn/blog/envideo/${e}`).then((s=>(isLoad=!0,404==s.status?(Qmsg.error("哎呀，密码不对！🤡"),isLoad=!1,!1):s.json()))).then((async s=>{if(s&&Array.isArray(s)){art&&art.destroy();const t=s.map((s=>({url:s.play,title:s.title,poster:s.poster})));art=new Artplayer({container:"#video-box",url:t[0]?.url||"https://seacloud.cpolar.cn/dash-av/Start-111-Uc/main.mpd",type:"mpd",theme:"#2c9678",title:t[0]?.title||"Start-111-Uc",poster:t[0]?.poster||"https://seacloud.cpolar.cn/dash-av/Start-111-Uc/poster.webp",flip:!0,playbackRate:!0,screenshot:!0,hotkey:!0,pip:!0,mutex:!0,fullscreen:!0,fullscreenWeb:!0,miniProgressBar:!0,playsInline:!0,setting:!0,customType:{mpd:playMpd},autoOrientation:!0,plugins:[artplayerPlaylist({rebuildPlayer:!1,onchanged:async t=>{const o=art.currentPlaylistIndex;i(s[o])},autoNext:!0,showText:!0,playlist:t})]}),i(s[0]),$("#middle").hide()}else Qmsg.warning("没有找到视频数据。");isLoad=!1})).catch((s=>{Qmsg.error("加载视频数据失败！"),isLoad=!1}))}window.load_event={...window.load_event,artsss:()=>{art=new Artplayer({container:"#video-box",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5222486782687309806_hlsb.m3u8",type:"m3u8",theme:"#2c9678",title:"猴王初问世",poster:"https://source.rainsin.cn/img/post/video/%E8%A5%BF%E6%B8%B8%E8%AE%B0.jpg",flip:!0,playbackRate:!0,screenshot:!0,hotkey:!0,pip:!0,mutex:!0,fullscreen:!0,fullscreenWeb:!0,miniProgressBar:!0,playsInline:!0,setting:!0,autoOrientation:!0,customType:{m3u8:playM3u8},plugins:[artplayerPlaylist({rebuildPlayer:!1,onchanged:s=>{},autoNext:!0,showText:!1,playlist:[{title:"猴王初问世",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5222486782687309806_hlsb.m3u8"},{title:"官封弼马温",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5221923836211844606_hlsb.m3u8"},{title:"大圣闹天宫",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5189835687545858667_hlsb.m3u8"},{title:"困囚五行山",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5222205307782734748_hlsb.m3u8"},{title:"猴王保唐僧",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5197998463397799646_hlsb.m3u8"},{title:"祸起观音院",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5248382480897511687_hlsb.m3u8"},{title:"计收猪八戒",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5255982306920155520_hlsb.m3u8"},{title:"坎途逢三难",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5245004783362852874_hlsb.m3u8"},{title:"偷吃人参果",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5188991261818113744_hlsb.m3u8"},{title:"三打白骨精",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5245286258564595605_hlsb.m3u8"},{title:"智激美猴王",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5242190033819283686_hlsb.m3u8"},{title:"夺宝莲花洞",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5195465185500328899_hlsb.m3u8"},{title:"除妖乌鸡国",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5233182832465375578_hlsb.m3u8"},{title:"大战红孩儿",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5257952633664504505_hlsb.m3u8"},{title:"斗法降三怪",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5239093806671579134_hlsb.m3u8"},{title:"趣经女儿国",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5194339285053330625_hlsb.m3u8"},{title:"三调芭蕉扇",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5212353685308148894_hlsb.m3u8"},{title:"扫塔辨奇冤",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5196028138193985933_hlsb.m3u8"},{title:"误入小雷音",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5201657637211300344_hlsb.m3u8"},{title:"孙猴巧行医",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5192368961005814924_hlsb.m3u8"},{title:"错坠盘丝洞",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5234590208336898334_hlsb.m3u8"},{title:"四探无底洞",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5231212506629016061_hlsb.m3u8"},{title:"传艺玉华洲",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5201094684845468508_hlsb.m3u8"},{title:"天竺收玉兔",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5245567730520243844_hlsb.m3u8"},{title:"波生极乐天",url:"https://txmov2.a.kwimgs.com/bs3/video-hls/5215168436118306105_hlsb.m3u8"}]})]},(function(s){this.pause()}))}};