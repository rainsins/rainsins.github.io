const artplayerPlaylist=t=>l=>{const i={"zh-cn":{playlist:"播放列表"},en:{playlist:"Playlist"}};l.i18n.update(i);const a=(l,a)=>{if(!t.playlist[a])return;l.currentPlaylistIndex=a;const e=l.option;let n=l;t.rebuildPlayer?(l.destroy(),n=new Artplayer({...e,...t.playlist[a],autoplay:t.autoNext??e.autoplay,i18n:i,id:`${e.id}-${0===a?"":a}`})):(l.switchUrl(t.playlist[a].url,t.playlist[a].title),(t.autoNext??e.autoplay)&&l.play()),"function"==typeof t.onchanged&&t.onchanged(n)},e=t.playlist.findIndex((t=>t.url===l.option.url));t.autoNext&&e<t.playlist.length&&l.on("video:ended",(()=>{a(l,e+1)}));const n='<i class="art-icon"><svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="M810.666667 384H85.333333v85.333333h725.333334V384z m0-170.666667H85.333333v85.333334h725.333334v-85.333334zM85.333333 640h554.666667v-85.333333H85.333333v85.333333z m640-85.333333v256l213.333334-128-213.333334-128z" fill="#ffffff"></path></svg></i>';return l.controls.add({name:"playlist",position:"right",html:t.showText?l.i18n.get("playlist"):n,style:{padding:"0 10px"},selector:t.playlist.map(((t,l)=>({html:`${l+1}. ${t.title||`Ep.${l+1}`}`,style:{textAlign:"left"},index:l,default:e===l}))),onSelect:i=>(a(l,i.index),t.showText?l.i18n.get("playlist"):n)}),{name:"artplayerPlaylist"}};"undefined"!=typeof window&&(window.artplayerPlaylist=artplayerPlaylist);