<!-- The Head -->

<head>
  {% unless site.theme_mode %} {% include mode-toggle.html %} {% endunless %} {%
  include embed/lookup.html %} {% include embed/pan.html %} {% include
  embed/testOS.html %}

  <script>
    window.appendJQCDN = (src) => {
      var head = document.head || document.getElementsByTagName("head")[0];
      if (src.endsWith(".css")) {
        //css
        var style = document.createElement("LINK");
        style.setAttribute("type", "text/css");
        style.setAttribute("rel", "stylesheet");
        style.setAttribute("href", src);
        head.appendChild(style);
      } else if (src.endsWith(".js")) {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.setAttribute("src", src);
        head.appendChild(script);
      }
    };

    window.isAppendCDN = (err) => {
      if (sessionStorage.getItem("isPan") == "false") {
        appendJQCDN(err);
      }
    };
  </script>

{% if page.guwen %}
<link
rel="stylesheet"
href="https://file.rainsin.cn/d/blog/font/heti/split/FZFSB/result.css"
/>
<link
rel="stylesheet"
href="https://file.rainsin.cn/d/blog/font/heti/split/FZKTK/result.css"
/>
<link
rel="stylesheet"
href="https://file.rainsin.cn/d/blog/font/heti/split/simfang/result.css"
/>
<link
rel="stylesheet"
href="https://file.rainsin.cn/d/blog/font/heti/split/simkai/result.css"
/>
<link
rel="stylesheet"
href="https://file.rainsin.cn/d/blog/font/heti/split/STFANGSO/result.css"
/>
<link
rel="stylesheet"
href="https://file.rainsin.cn/d/blog/font/heti/split/京華老宋体2/result.css"
/>
<link
rel="stylesheet"
href="https://file.rainsin.cn/d/blog/font/heti/split/汇文明朝体/result.css"
/>
<link
rel="stylesheet"
href="https://file.rainsin.cn/d/blog/font/heti/split/STSONG/result.css"
/>
<link
rel="stylesheet"
href="https://file.rainsin.cn/d/blog/font/heti/split/HYKB/result.css"
/>
<script>
const sss = ["FZFSB","FZKTB","FZKTK","STFANGSO","STSONG","simfang","simkai","京華老宋体2","汇文明朝体"];

sss.forEach((el,ind)=>{
  isAppendCDN(`https://fonts.rainsin.cn/split/${el}/result.css`);
});
isAppendCDN(`https://fonts.rainsin.cn/HYKB/result.css`);
</script>
{% endif %} 

<link
  rel="stylesheet"
  href="https://file.rainsin.cn/d/blog/font/heti/split/FZZzOM/result.css"
/>


<link
  rel="stylesheet"
  href="https://file.rainsin.cn/d/blog/font/heti/split/FOT-TsukuAOldMinPr6/result.css"
/>

<script>
  isAppendCDN(`https://fonts.rainsin.cn/split/FZZzOM/result.css`);
  isAppendCDN(`https://fonts.rainsin.cn/FOT-TsukuAOldMinPr6/result.css`);
</script>


  <link rel="stylesheet" href="/assets/message/message.min.css" />
  <script src="/assets/message/message.min.js"></script>

  <script src="http://npm.elemecdn.com/instant.page@5.2.0/instantpage.js" type="module"></script>

  {% if page.tooltipcss %}
  <link
    rel="stylesheet"
    href="https://cdn.staticfile.net/hint.css/3.0.0/hint.min.css"
  />
  {% endif %} {% if page.tooltipjs %}
  <script src="https://{{site.unpkg_cdn}}/@popperjs/core@2"></script>
  <script src="https://{{site.unpkg_cdn}}/tippy.js@6"></script>
  {% endif %} {% if page.swiper %}
  <link
    rel="stylesheet"
    href="https://{{ site.js_cdn }}/npm/swiper@11/swiper-bundle.min.css"
  />
  <script src="https://{{ site.js_cdn }}/npm/swiper@11/swiper-bundle.min.js"></script>
  {% endif %}

  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "o8k1pzrsqv");
  </script>
  <script defer src="https://cloud.umami.is/script.js" data-website-id="202ceef1-7698-45d5-a10e-fc97f6a046c0"></script>
  
  {% if page.clipboard %}
  <script
    src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/clipboard.js/2.0.10/clipboard.min.js"
    type="application/javascript"
  ></script>
  {% endif %} {% if page.pangu != true %}
  <script src="https://{{ site.cdnjs_cdn1 }}/ajax/libs/pangu/4.0.7/pangu.min.js"></script>

  <script>
    window.load_event = {
      ...window.load_event,
      autoSpacing: () => {
        pangu.spacingElementByClassName("post-content");
        pangu.autoSpacingPage();
      },
    };
  </script>
  {% endif %} {% if page.cube %}

  <script src="https://file.rainsin.cn/d/blog/js/cube/data-min.js"></script>

  {% endif %}

  <script src="https://{{ site.js_cdn4 }}/npm/sweetalert2@11"></script>

  <script>
    let box = document.documentElement;
    if (!box.getAttribute("data-mode")) {
      if (modeToggle.modeStatus == "dark") {
        box.setAttribute("data-mode", "dark");
      } else {
        box.setAttribute("data-mode", "light");
      }
    }
  </script>

  {% if page.postsummary %}
  <script src="https://{{site.js_cdn1}}/gh/qxchuckle/Post-Summary-AI@6.0/chuckle-post-ai.min.js"></script>
  <script data-pjax>
    window.load_event = {
      ...window.load_event,
      load_post_summary: () => {
        new ChucklePostAI({
          el: "#post-content",
          key: "FA3XwN6IKUk",
          rec_method: "web",
        });
      },
    };
  </script>
  {% endif %} 
  {% if page.blockquote-sep %}
  <link
    rel="stylesheet"
    href="https://{{site.cdnjs_cdn}}/ajax/libs/ionicons/4.4.1/css/ionicons.min.css"
  />
  {% endif %} 
  {% if page.bodymovin %}
  <script src="https://{{ site.cdnjs_cdn }}/ajax/libs/bodymovin/4.10.2/bodymovin.min.js"></script>
  {% endif %} 
  {% if page.guwen %}
  <link
    rel="stylesheet"
    href="https://{{ site.cdnjs_cdn }}/ajax/libs/heti/0.9.4/heti.min.css"
    integrity="sha512-/My2cHBMxofuHmAIIK29zje0pIqA2iCC9HDMa76E1jzK5u+wudGzJMMnTsdA5FmVGsoXB1xoJM7fKhniOhz+HA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

<link
rel="stylesheet"
href="/assets/css/heti-add-min.css"
/>

  <script>
    window.load_event = {
      ...window.load_event,
      heti_title_style: () => {
        const OS = sessionStorage.getItem("OS");
        if (OS == "Linux") {
          $("body").append(
            $(`<style>.heti--ancient h1, .heti--ancient h2, .heti--ancient h3, .heti--ancient h4, .heti--ancient h5, .heti--ancient h6, .heti--poetry h1, .heti--poetry h2, .heti--poetry h3, .heti--poetry h4, .heti--poetry h5, .heti--poetry h6{
      font-weight: 400;
    }</style>`)
          );
        } else if (OS == "iOS" || OS == "Mac OS") {
          $("body").append(
            $(`<style>.heti--ancient h1, .heti--ancient h2, .heti--ancient h3, .heti--ancient h4, .heti--ancient h5, .heti--ancient h6, .heti--poetry h1, .heti--poetry h2, .heti--poetry h3, .heti--poetry h4, .heti--poetry h5, .heti--poetry h6{
      font-family: "Times New Roman",times,"Heti Kai",serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
      font-weight: 600;
    }</style>`)
          );
        } else if (OS == "Android") {
          $("body").append(
            $(`<style>.heti--ancient h1, .heti--ancient h2, .heti--ancient h3, .heti--ancient h4, .heti--ancient h5, .heti--ancient h6, .heti--poetry h1, .heti--poetry h2, .heti--poetry h3, .heti--poetry h4, .heti--poetry h5, .heti--poetry h6{
      font-weight: 600;
    }</style>`)
          );
        } else {
          console.log("哇！");
        }
      },
    };
  </script>
  {% endif %}

  <link rel="stylesheet" href="/assets/css/card-profile.css" />

  {% if page.charch %}
  <script
    type="text/javascript"
    src="https://{{ site.js_cdn4 }}/npm/charch@0.1.0/charch.build.js"
  ></script>
  {% endif %} {% if page.babel %}
  <script
    src="https://{{ site.cdnjs_cdn1 }}/ajax/libs/babel-standalone/7.25.6/babel.min.js"
    integrity="sha512-8M1WWEzuftS49rfh63fHz354qx+Pzvp3kcQVVTOxIdFSzjYC3I3vk5zgN0guAook97MQIZTfEdl9pUQTov9V6A=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  ></script>
  {% endif %} {% if page.anime %}
  <script src="https://{{site.js_cdn}}/npm/animejs@3.2.2/lib/anime.min.js"></script>
  {% endif %}

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta
    name="theme-color"
    media="(prefers-color-scheme: light)"
    content="#f7f7f7"
  />
  <meta
    name="theme-color"
    media="(prefers-color-scheme: dark)"
    content="#1b1b1e"
  />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta
    name="apple-mobile-web-app-status-bar-style"
    content="black-translucent"
  />
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  />

  <style>
    .footnotes > ol > li > p,
    .charch-indent blockquote p {
      text-indent: 0;
    }
  </style>

  {% if page.post %}
  <meta name="keywords" content="{{ page.keywords }}" />
  <meta name="author" content="{{ page.author }}" />
  {% else %}
  <meta name="keywords" content="{{ site.keywords }}" />
  <meta name="author" content="{{ site.author }}" />
  {% endif %}

  <script>
    window.load_event = {
      ...window.load_event,
      load_anime: () => {
        const loads = document.getElementById("loading-gif-box");
        loads.style.opacity = "0";
        loads.style.zIndex = "-999999";
      },
    };
  </script>

  {% if page.math %}
  <!-- MathJax -->
  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ["$", "$"],
          ["\\(", "\\)"],
        ],
        displayMath: [
          ["$$", "$$"],
          ["\\[", "\\]"],
        ],
        tags: "ams",
      },
    };
  </script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script
    id="MathJax-script"
    async
    src="{{ site.data.origin[type].mathjax.js | relative_url }}"
  ></script>
  {% endif %}

  <!-- <script src="/assets/js/dev.js"></script> -->

  <link rel="stylesheet" href="/assets/css/comments-min.css" />
  <!-- <link rel="stylesheet" href="/assets/css/root-min.css" /> -->
  <link rel="stylesheet" href="/assets/css/main-font.css" />

  {% if page.comments %}
  <link
    rel="stylesheet"
    href="https://{{ site.cdnjs_cdn1 }}/ajax/libs/waline/3.3.0/waline.min.css"
  />

  <link
    rel="stylesheet"
    href="https://{{ site.out_cdnjs_cdn }}/ajax/libs/waline/3.3.0/waline-meta.css"
  />

  <style>
    .wl-cards .wl-user .wl-user-avatar{
      border: 1px solid #a4a4a4ab;
    }
    [data-waline] p{
      margin-bottom: 0;
    }
  </style>

  <script src="https://{{ site.cdnjs_cdn1 }}/ajax/libs/waline/3.3.0/waline.umd.min.js"></script>

  <script>
    window.load_event = {
      ...window.load_event,
      comments: () => {
          Waline.init({
            el: "#tcomment",
            serverURL: "https://comment.cpolar.cn/",
            emoji: [
              "//file.rainsin.cn/d/blog/em/小黑子",
              "//file.rainsin.cn/d/blog/em/Sticker-100",
              "//file.rainsin.cn/d/blog/em/小电视",
              "//file.rainsin.cn/d/blog/em/Tieba",
              "//file.rainsin.cn/d/blog/em/alus",
              "//file.rainsin.cn/d/blog/em/商业头盔",
              "//file.rainsin.cn/d/blog/em/小人",
              "//file.rainsin.cn/d/blog/em/小坏坏",
              "//file.rainsin.cn/d/blog/em/抽象",
              "//file.rainsin.cn/d/blog/em/搜索引擎",
              "//file.rainsin.cn/d/blog/em/机场",
              "//file.rainsin.cn/d/blog/em/猥琐萌",
              "//file.rainsin.cn/d/blog/em/猫狗",
              "//file.rainsin.cn/d/blog/em/白白",
              "//file.rainsin.cn/d/blog/em/突然",
              "//file.rainsin.cn/d/blog/em/胡桃",
              "//file.rainsin.cn/d/blog/em/被子",
              "//file.rainsin.cn/d/blog/em/酷安",
              "//file.rainsin.cn/d/blog/em/tw",
              "//file.rainsin.cn/d/blog/em/qq",
              "//file.rainsin.cn/d/blog/em/weibo",
            ],
            pageview: true,
            locale: {
              placeholder:
                "唠唠嗑（登录和上面信息都不是必需的，评论审核后可见，添加邮箱可在被回复时邮件提醒，按🔍进行预览）",
              reactionTitle: "你是故意找茬是不是啊？",
              reaction0: "正确的",
              reaction1: "错误的",
              reaction2: "小丑的",
              reaction3: "满昏的",
              reaction4: "不错的",
              reaction5: "菜鸡的",
              reaction6: "超逊的",
              reaction7: "发烧的",
              admin: "站长",
              level0: "素人",
              level1: "企划",
              level2: "企划专属",
              level3: "专属",
              level4: "双专属",
              level5: "三社共有",
              nick: "名称",
              sofa: "来一起击剑🤺吧",
            },
            dark: 'html[data-mode="dark"]',
            imageUploader: false,
            search: false,
          });

        window.time_comment = 0;
        let set_comment_time = setInterval(()=>{
          const get_anno_img = Array.from(document.querySelectorAll(".wl-cards .wl-user .wl-user-avatar[src='https://seccdn.libravatar.org/avatar/d41d8cd98f00b204e9800998ecf8427e']"));
          if(time_comment < 500){
            get_anno_img.forEach((el,index)=>{
          el.src = "https://file.rainsin.cn/d/blog/img/comment/act.gif";
        });
        time_comment++;
          }else{
            clearInterval(set_comment_time);
            return;
          }
        },200)
      },
    };
  </script>

  <style>
    .wl-emoji-popup .wl-tab-wrapper button {
      width: 4em;
    }
    .wl-emoji-popup .wl-tab-wrapper button img {
      max-height: 3.5em;
      max-width: 3.5em;
    }
    .wl-meta>span::before{
      margin-top: 2px;
    }

    .wl-editor, .wl-input{
      background-image: url(https://file.rainsin.cn/d/blog/img/comment/waline-bg.gif),url(https://api.rainsin.cn/blog_data/img/comment/waline-bg.gif);
      background-position: center right;
      background-repeat: no-repeat;
      background-size: auto 100%;
    }
    :root{
      --waline-theme-color: #d4c4b7;
      --waline-active-color: #d4c4b7aa;
    }
  </style>
  {% endif %}

  <script>
    const style = document.createElement("style");
    style.type = "text/css";
    
      if (modeToggle.modeStatus == "dark") {
        style.innerHTML =
          "#loading-gif-box{background-color: #000;} .loading-boxs-imgs{background-image: url(https://file.rainsin.cn/d/blog/img/darkload.gif?sign=HSMBFJIuwRnWabf8E1WJKYaTOneSVDmMdmfOphPDbdw=:0);}";
      } else {
        style.innerHTML =
          "#loading-gif-box{background-color: #fff;} .loading-boxs-imgs{background-image: url(https://file.rainsin.cn/d/blog/img/loadlight.gif?sign=FJgpddP5fi4a60y3yWNyJ6chvzOREupwOfPWk03U_ik=:0);}";
      }
    document.getElementsByTagName("head")[0].appendChild(style);
  </script>

  {% if page.react %}
  <script src="https://{{ site.unpkg_cdn1 }}/react@18.3.1/umd/react.production.min.js"></script>
  <script src="https://{{ site.unpkg_cdn1 }}/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
  <script src="/assets/js/swr.min.js" async></script>
  {% endif %} {% if page.video %}
  <script src="https://{{site.js_cdn1}}/npm/artplayer@5.1.7/dist/artplayer.min.js"></script>
  <script src="https://{{ site.unpkg_cdn3 }}/artplayer-plugin-danmuku@5.1.4/dist/artplayer-plugin-danmuku.legacy.js"></script>
  {% endif %} {% if page.music %}
  <link
    rel="stylesheet"
    href="https://{{ site.unpkg_cdn2 }}/aplayer@1.10.1/dist/APlayer.min.css"
  />
  <script src="https://{{ site.unpkg_cdn2 }}/aplayer@1.10.1/dist/APlayer.min.js"></script>
  <script src="https://{{ site.unpkg_cdn2 }}/meting@2.0.1/dist/Meting.min.js"></script>
  {% endif %} {% if page.jquery %}
  <script src="https://{{ site.unpkg_cdn3 }}/jquery@3.7.1/dist/jquery.min.js"></script>
  {% endif %} {% if page.pinyin %}
  <script src="https://file.rainsin.cn/d/blog/js/pinyin.min.js"></script>
  <script
    async
    src="https://file.rainsin.cn/d/blog/js/pinyin.min.js"
  ></script>
  {% endif %} {% if page.chart %}
  <script src="https://{{ site.unpkg_cdn3 }}/chart.js@4.4.3/dist/chart.umd.js"></script>
  {% endif %} {% if page.mathpolt %}
  <script src="https://{{ site.cdnjs_cdn1 }}/ajax/libs/d3/7.9.0/d3.min.js"></script>
  <script
    src="https://{{ site.cdnjs_cdn1 }}/ajax/libs/function-plot/1.25.0/function-plot.js"
    integrity="sha512-7MI0msHrbnIetu1m53ACfA0Hu0t12NG8yyrVzjSqABYJglzbwYa97UoFzd74rB1bwY7Na850s+cg+5YuWE+TDA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  ></script>
  {% endif %} {% if page.cube %}
  <script src="/assets/post/cube/dist/705.js"></script>
  <script src="/assets/post/cube/dist/781.js"></script>
  <script src="/assets/post/cube/dist/795.js"></script>
  <script src="/assets/post/cube/dist/576.js"></script>
  <script src="/assets/post/cube/dist/661.js"></script>
  <script src="/assets/post/cube/dist/200.js"></script>
  <script src="/assets/post/cube/dist/134.js"></script>

  <script src="/assets/post/cube/dist/main.js"></script>

  {% endif %} {% if page.require %}
  <script src="https://{{ site.unpkg_cdn3 }}/requirejs@2.3.6/require.min.js"></script>
  {% endif %} {% if page.linksdata %}
  <script src="/assets/links/linksdata.js"></script>
  {% endif %} {% if page.animatecss %}
  <link
    rel="stylesheet"
    href="https://{{ site.unpkg_cdn }}/animate.css@4.1.1/animate.min.css"
  />
  {% endif %} {% capture seo_tags %} {% seo title=false %} {% endcapture %} {%
  if page.image %} {% assign img = page.image.path | default: page.image %} {%
  unless img contains '://' %} {% assign img_path = page.img_path | append: '/'
  | append: img | replace: '//', '/' %} {% capture target %}"{{ img |
  absolute_url }}"{% endcapture %} {% if site.img_cdn contains '//' %}
  <!-- it's a cross-origin URL -->
  {% capture replacement %}"{{ site.img_cdn }}{{ img_path }}"{% endcapture %} {%
  else %}
  <!-- it's a local file path -->
  {%- capture replacement -%} "{{ site.img_cdn | append: '/' | append: img_path
  | replace: '//', '/' | absolute_url }}" {%- endcapture -%} {% endif %} {%
  assign seo_tags = seo_tags | replace: target, replacement %} {% endunless %}
  {% endif %} {{ seo_tags }}

  <title>
    {%- unless page.layout == 'home' -%} {{ page.title | append: ' | ' }} {%-
    endunless -%} {{ site.title }}
  </title>

  {% include favicons.html %} {% if site.resources.ignore_env !=
  jekyll.environment and site.resources.self_hosted %}
  <link
    href="{{ site.data.origin[type].webfonts | relative_url }}"
    rel="stylesheet"
  />

  {% else %} {% for cdn in site.data.origin[type].cdns %}
  <link rel="preconnect" href="{{ cdn.url }}" {{ cdn.args }} />
  <link rel="dns-prefetch" href="{{ cdn.url }}" {{ cdn.args }} />
  {% endfor %}

  <link
    rel="stylesheet"
    href="{{ site.data.origin[type].webfonts | relative_url }}"
  />
  {% endif %} {% if page.md5 %}
  <script src="https://{{site.js_cdn4}}/npm/md5-js-tools@1.0.2/lib/md5.min.js"></script>

  {% endif %}

  <!-- Bootstrap -->
  <link
    rel="stylesheet"
    href="{{ site.data.origin[type].bootstrap.css | relative_url}}"
  />

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="{{ site.data.origin[type].fontawesome.css | relative_url }}"
  />

  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}" />

  {% if site.toc and page.toc %}
  <link
    rel="stylesheet"
    href="{{ site.data.origin[type].toc.css | relative_url }}"
  />
  {% endif %} {% if page.layout == 'page' or page.layout == 'post' %}
  <!-- Manific Popup -->
  <link
    rel="stylesheet"
    href="{{ site.data.origin[type].magnific-popup.css | relative_url }}"
  />
  {% endif %}

  <link href="/assets/css/font.css" rel="stylesheet" />
  <link href="/assets/css/em.css" rel="stylesheet" />

  <script defer>
    window.load_event = {
      ...window.load_event,
      isOutPan: () => {
        if (sessionStorage.getItem("isOutAlert")) {
          
        } else {
          if(sessionStorage.getItem("isPan") == "false"){
            sessionStorage.setItem("isOutAlert", "true");
            Qmsg.warning(
              "家里停电了，服务器宕了，页面可能会有异常，请见谅！",
              { timeout: 5000 }
            );
          }
        }
      }
    }
  </script>

  {% include set-mode.html %} 
  {% include metadata-hook.html %}
</head>
